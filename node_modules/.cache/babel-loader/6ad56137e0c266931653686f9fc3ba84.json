{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\E-Commerce\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\E-Commerce\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{PRODUCT_LIST_REQUEST,PRODUCT_LIST_SUCCESS,PRODUCT_LIST_FAIL,PRODUCT_DETAILS_REQUEST,PRODUCT_DETAILS_SUCCESS,PRODUCT_DETAILS_FAIL,PRODUCT_DELETE_REQUEST,PRODUCT_DELETE_SUCCESS,PRODUCT_DELETE_FAIL,PRODUCT_CREATE_REQUEST,PRODUCT_CREATE_SUCCESS,PRODUCT_CREATE_FAIL,PRODUCT_UPDATE_REQUEST,PRODUCT_UPDATE_SUCCESS,PRODUCT_UPDATE_FAIL,PRODUCT_CREATE_REVIEW_REQUEST,PRODUCT_CREATE_REVIEW_SUCCESS,PRODUCT_CREATE_REVIEW_FAIL,PRODUCT_TOP_REQUEST,PRODUCT_TOP_SUCCESS,PRODUCT_TOP_FAIL}from\"../Constants/productConstants\";export var listProducts=function listProducts(){var keyword=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var pageNumber=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:PRODUCT_LIST_REQUEST});_context.next=4;return axios.get(\"/Api/products?keyword=\".concat(keyword,\"&page=\").concat(pageNumber));case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:PRODUCT_LIST_SUCCESS,payload:data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch({type:PRODUCT_LIST_FAIL,payload:_context.t0.response});case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var listProductDetails=function listProductDetails(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:PRODUCT_DETAILS_REQUEST});_context2.next=4;return axios.get(\"/Api/products/\".concat(id));case 4:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;dispatch({type:PRODUCT_DETAILS_SUCCESS,payload:data});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:PRODUCT_DETAILS_FAIL,payload:_context2.t0.response});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var deleteProduct=function deleteProduct(productId){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _getState,userInfo,config;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:PRODUCT_DELETE_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context3.next=6;return axios.delete(\"/Api/products/\".concat(productId),config);case 6:dispatch({type:PRODUCT_DELETE_SUCCESS});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);dispatch({type:PRODUCT_DELETE_FAIL,payload:_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();};export var createProduct=function createProduct(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState2,userInfo,config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:PRODUCT_CREATE_REQUEST});_getState2=getState(),userInfo=_getState2.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context4.next=6;return axios.post(\"/Api/products\",{},config);case 6:_yield$axios$post=_context4.sent;data=_yield$axios$post.data;dispatch({type:PRODUCT_CREATE_SUCCESS,payload:data});_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);dispatch({type:PRODUCT_CREATE_FAIL,payload:_context4.t0.response&&_context4.t0.response.data.message?_context4.t0.response.data.message:_context4.t0.message});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return function(_x5,_x6){return _ref4.apply(this,arguments);};}();};export var updateProduct=function updateProduct(product){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var _getState3,userInfo,config,_yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;dispatch({type:PRODUCT_UPDATE_REQUEST});_getState3=getState(),userInfo=_getState3.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context5.next=6;return axios.put(\"/Api/products/\".concat(product._id),product,config);case 6:_yield$axios$put=_context5.sent;data=_yield$axios$put.data;dispatch({type:PRODUCT_UPDATE_SUCCESS,payload:data});_context5.next=14;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);dispatch({type:PRODUCT_UPDATE_FAIL,payload:_context5.t0.response&&_context5.t0.response.data.message?_context5.t0.response.data.message:_context5.t0.message});case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return function(_x7,_x8){return _ref5.apply(this,arguments);};}();};export var createReviewProduct=function createReviewProduct(productId,review){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch,getState){var _getState4,userInfo,config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;dispatch({type:PRODUCT_CREATE_REVIEW_REQUEST});_getState4=getState(),userInfo=_getState4.userLogin.userInfo;config={headers:{'Content-type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};_context6.next=6;return axios.post(\"/Api/products/\".concat(productId,\"/reviews\"),review,config);case 6:_yield$axios$post2=_context6.sent;data=_yield$axios$post2.data;dispatch({type:PRODUCT_CREATE_REVIEW_SUCCESS,payload:data});_context6.next=14;break;case 11:_context6.prev=11;_context6.t0=_context6[\"catch\"](0);dispatch({type:PRODUCT_CREATE_REVIEW_FAIL,payload:_context6.t0.response&&_context6.t0.response.data.message?_context6.t0.response.data.message:_context6.t0.message});case 14:case\"end\":return _context6.stop();}}},_callee6,null,[[0,11]]);}));return function(_x9,_x10){return _ref6.apply(this,arguments);};}();};export var topProducts=function topProducts(){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var _yield$axios$get3,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;dispatch({type:PRODUCT_TOP_REQUEST});_context7.next=4;return axios.get(\"/Api/products/top/rated\");case 4:_yield$axios$get3=_context7.sent;data=_yield$axios$get3.data;dispatch({type:PRODUCT_TOP_SUCCESS,payload:data});_context7.next=12;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](0);dispatch({type:PRODUCT_TOP_FAIL,payload:_context7.t0.response});case 12:case\"end\":return _context7.stop();}}},_callee7,null,[[0,9]]);}));return function(_x11){return _ref7.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/Abhishek/Desktop/E-Commerce/frontend/src/Actions/productAction.js"],"names":["axios","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_TOP_FAIL","listProducts","keyword","pageNumber","dispatch","type","get","data","payload","response","listProductDetails","id","deleteProduct","productId","getState","userInfo","userLogin","config","headers","Authorization","token","delete","message","createProduct","post","updateProduct","product","put","_id","createReviewProduct","review","topProducts"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_SUCCESS,\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n  PRODUCT_UPDATE_FAIL,\r\n  PRODUCT_CREATE_REVIEW_REQUEST,\r\n  PRODUCT_CREATE_REVIEW_SUCCESS,\r\n  PRODUCT_CREATE_REVIEW_FAIL,\r\n  PRODUCT_TOP_REQUEST,\r\n  PRODUCT_TOP_SUCCESS,\r\n  PRODUCT_TOP_FAIL,\r\n} from \"../Constants/productConstants\";\r\n\r\nexport const listProducts = (keyword='',pageNumber='') => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_LIST_REQUEST });\r\n    const { data } = await axios.get(`/Api/products?keyword=${keyword}&page=${pageNumber}`);\r\n    \r\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n    \r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_LIST_FAIL, payload: error.response });\r\n  }\r\n};\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n    const { data } = await axios.get(`/Api/products/${id}`);\r\n   \r\n\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.response });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const deleteProduct= (productId)=>async (dispatch,getState)=>{\r\n  try{\r\n     dispatch({\r\n         type:PRODUCT_DELETE_REQUEST\r\n     })\r\n\r\n     const {userLogin:{userInfo}}=getState()\r\n     const config={\r\n         headers:{ \r\n             Authorization:`Bearer ${userInfo.token}`  \r\n         }, \r\n     }\r\n     \r\n     \r\n     await axios.delete(`/Api/products/${productId}`,config)\r\n    \r\n\r\n     dispatch({\r\n       type:PRODUCT_DELETE_SUCCESS,\r\n   })\r\n\r\n  \r\n  }\r\n  catch(error){\r\n     dispatch({\r\n         type:PRODUCT_DELETE_FAIL,\r\n         payload:error.response &&error.response.data.message?error.response.data.message:error.message,\r\n     })\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport const createProduct= ()=>async (dispatch,getState)=>{\r\n  try{\r\n     dispatch({\r\n         type:PRODUCT_CREATE_REQUEST\r\n     })\r\n\r\n     const {userLogin:{userInfo}}=getState()\r\n     const config={\r\n         headers:{ \r\n             Authorization:`Bearer ${userInfo.token}`  \r\n         }, \r\n     }\r\n     \r\n     \r\n     const {data}=await axios.post(`/Api/products`,{},config)\r\n    \r\n\r\n     dispatch({\r\n       type:PRODUCT_CREATE_SUCCESS,\r\n       payload:data\r\n   })\r\n\r\n  \r\n  }\r\n  catch(error){\r\n     dispatch({\r\n         type:PRODUCT_CREATE_FAIL,\r\n         payload:error.response &&error.response.data.message?error.response.data.message:error.message,\r\n     })\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport const updateProduct= (product)=>async (dispatch,getState)=>{\r\n  try{\r\n     dispatch({\r\n         type:PRODUCT_UPDATE_REQUEST\r\n     })\r\n\r\n     const {userLogin:{userInfo}}=getState()\r\n     const config={\r\n         headers:{ \r\n             Authorization:`Bearer ${userInfo.token}`  \r\n         }, \r\n     }\r\n     \r\n     \r\n     const {data}=await axios.put(`/Api/products/${product._id}`,product,config)\r\n    \r\n\r\n     dispatch({\r\n       type:PRODUCT_UPDATE_SUCCESS,\r\n       payload:data\r\n   })\r\n\r\n  \r\n  }\r\n  catch(error){\r\n     dispatch({\r\n         type:PRODUCT_UPDATE_FAIL,\r\n         payload:error.response &&error.response.data.message?error.response.data.message:error.message,\r\n     })\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const createReviewProduct= (productId,review)=>async (dispatch,getState)=>{\r\n  try{\r\n     dispatch({\r\n         type:PRODUCT_CREATE_REVIEW_REQUEST\r\n     })\r\n\r\n     const {userLogin:{userInfo}}=getState()\r\n     const config={\r\n         headers:{ \r\n          'Content-type':'application/json',    \r\n             Authorization:`Bearer ${userInfo.token}`  \r\n         }, \r\n     }\r\n     \r\n     \r\n     const {data}=await axios.post(`/Api/products/${productId}/reviews`,review,config)\r\n    \r\n\r\n     dispatch({\r\n       type:PRODUCT_CREATE_REVIEW_SUCCESS,\r\n       payload:data\r\n   })\r\n\r\n  \r\n  }\r\n  catch(error){\r\n     dispatch({\r\n         type:PRODUCT_CREATE_REVIEW_FAIL,\r\n         payload:error.response &&error.response.data.message?error.response.data.message:error.message,\r\n     })\r\n  }\r\n}\r\n\r\nexport const topProducts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_TOP_REQUEST });\r\n    const { data } = await axios.get(`/Api/products/top/rated`);\r\n    \r\n    dispatch({ type: PRODUCT_TOP_SUCCESS, payload: data });\r\n    \r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_TOP_FAIL, payload: error.response });\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}