{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Abhishek\\\\Desktop\\\\E-Commerce\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useParams,useLocation,useNavigate}from\"react-router-dom\";import{Row,Col,Card,ListGroup,Image,Button,Form,ListGroupItem}from\"react-bootstrap\";import{addToCart,removeFromCart}from\"../Actions/cartAction\";import Message from\"../components/message\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartScreen=function CartScreen(){var _useParams=useParams(),id=_useParams.id;var productId=id;var location=useLocation();var dispatch=useDispatch();var qty=location.search?Number(location.search.split(\"=\")[1]):1;var navigate=useNavigate();useEffect(function(){if(productId){dispatch(addToCart(productId,qty));}},[productId,qty,dispatch]);var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;var RemoveFromCartHandler=function RemoveFromCartHandler(id){dispatch(removeFromCart(id));};var CheckOutHandler=function CheckOutHandler(){navigate(\"/login?redirect=shipping\");};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),cartItems.length===0?/*#__PURE__*/_jsxs(Message,{children:[\"Your Cart is empty \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go back\"})]}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:cartItems.map(function(item,index){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2,xs:4,children:/*#__PURE__*/_jsx(Image,{src:item.image,alt:item.name,fluid:true,rounded:true})}),/*#__PURE__*/_jsx(Col,{md:3,xs:2,children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsxs(Col,{md:2,children:[\"\\u20B9\",item.price]}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:item.qty,onChange:function onChange(e){return dispatch(addToCart(item.product,Number(e.target.value)));},children:_toConsumableArray(Array(item.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"light\",onClick:function onClick(){return RemoveFromCartHandler(item.product);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]})},index);})})]}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"SUBTOTAL (\",cartItems.reduce(function(acc,item){return acc+item.qty;},0),\") ITEMS\"]})}),/*#__PURE__*/_jsxs(\"em\",{children:[\"\\u20B9\",\" \",cartItems.reduce(function(acc,item){return acc+item.qty*item.price;},0).toFixed(2)]})]}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn-block\",variant:\"dark\",disabled:cartItems.length===0,onClick:CheckOutHandler,children:\"PROCEED TO CHECKOUT\"})})]})})]})});};export default CartScreen;","map":{"version":3,"sources":["C:/Users/Abhishek/Desktop/E-Commerce/frontend/src/Screens/CartScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Link","useParams","useLocation","useNavigate","Row","Col","Card","ListGroup","Image","Button","Form","ListGroupItem","addToCart","removeFromCart","Message","CartScreen","id","productId","location","dispatch","qty","search","Number","split","navigate","cart","state","cartItems","RemoveFromCartHandler","CheckOutHandler","length","map","item","index","image","name","product","price","e","target","value","Array","countInStock","keys","x","reduce","acc","toFixed"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useParams, useLocation,useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  ListGroup,\r\n  Image,\r\n  Button,\r\n  Form,\r\n  ListGroupItem,\r\n} from \"react-bootstrap\";\r\nimport { addToCart,removeFromCart } from \"../Actions/cartAction\";\r\nimport Message from \"../components/message\";\r\n\r\nconst CartScreen = () => {\r\n  const { id } = useParams();\r\n  const productId = id;\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const qty = location.search ? Number(location.search.split(\"=\")[1]) : 1;\r\n  const navigate=useNavigate()\r\n\r\n  useEffect(() => {\r\n    if (productId) {\r\n      dispatch(addToCart(productId, qty));\r\n    }\r\n  }, [productId, qty, dispatch]);\r\n\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems } = cart;\r\n  const RemoveFromCartHandler = (id) => {\r\n    dispatch(removeFromCart(id))\r\n  };\r\n  const CheckOutHandler = () => {\r\n    navigate(`/login?redirect=shipping`)\r\n  };\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col md={8}>\r\n          <h1>Shopping Cart</h1>\r\n          {cartItems.length === 0 ? (\r\n            <Message>\r\n              Your Cart is empty <Link to=\"/\">Go back</Link>\r\n            </Message>\r\n          ) : (\r\n            <ListGroup variant=\"flush\">\r\n              {cartItems.map((item ,index) => (\r\n                <ListGroup.Item key={index}>\r\n                  <Row>\r\n                    <Col md={2} xs={4}>\r\n                      <Image src={item.image} alt={item.name} fluid rounded />\r\n                    </Col>\r\n                    <Col md={3} xs={2}>\r\n                      <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                    </Col>\r\n                    <Col md={2}>₹{item.price}</Col>\r\n                    <Col md={2}>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={item.qty}\r\n                        onChange={(e) =>\r\n                          dispatch(\r\n                            addToCart(item.product, Number(e.target.value))\r\n                          )\r\n                        }\r\n                      >\r\n                        {[...Array(item.countInStock).keys()].map((x) => (\r\n                          <option key={x + 1} value={x + 1}>\r\n                            {x + 1}\r\n                          </option>\r\n                        ))}\r\n                      </Form.Control>\r\n                    </Col>\r\n                    <Col>\r\n                      <Button\r\n                        type=\"button\"\r\n                        variant=\"light\"\r\n                        onClick={() => RemoveFromCartHandler(item.product)}\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          )}\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroupItem>\r\n                <h2>\r\n                  SUBTOTAL ({cartItems.reduce((acc, item) => acc + item.qty, 0)}\r\n                  ) ITEMS\r\n                </h2>\r\n              </ListGroupItem>\r\n              <em>₹{\" \"}\r\n              {cartItems\r\n                .reduce((acc, item) => acc + item.qty * item.price, 0)\r\n                .toFixed(2)}</em>\r\n            </ListGroup>\r\n            <ListGroupItem>\r\n              <Button\r\n                type=\"button\"\r\n                className=\"btn-block\"\r\n                variant=\"dark\"\r\n                disabled={cartItems.length === 0}\r\n                onClick={CheckOutHandler}>\r\n                PROCEED TO CHECKOUT\r\n              </Button>\r\n            </ListGroupItem>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n"]},"metadata":{},"sourceType":"module"}