{"ast":null,"code":"import axios from \"axios\";\nimport { PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_DETAILS_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_SUCCESS, PRODUCT_CREATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_CREATE_REVIEW_REQUEST, PRODUCT_CREATE_REVIEW_SUCCESS, PRODUCT_CREATE_REVIEW_FAIL } from \"../Constants/productConstants\";\nexport const listProducts = function () {\n  let keyword = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  let pageNumber = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return async dispatch => {\n    try {\n      dispatch({\n        type: PRODUCT_LIST_REQUEST\n      });\n      const {\n        data\n      } = await axios.get(`/Api/products?keyword=${keyword}`);\n      dispatch({\n        type: PRODUCT_LIST_SUCCESS,\n        payload: data\n      });\n      console.log(data);\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_LIST_FAIL,\n        payload: error.response\n      });\n    }\n  };\n};\nexport const listProductDetails = id => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/Api/products/${id}`);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.response\n    });\n  }\n};\nexport const deleteProduct = productId => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_DELETE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    await axios.delete(`/Api/products/${productId}`, config);\n    dispatch({\n      type: PRODUCT_DELETE_SUCCESS\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DELETE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const createProduct = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_CREATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/Api/products`, {}, config);\n    dispatch({\n      type: PRODUCT_CREATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_CREATE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const updateProduct = product => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_UPDATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.put(`/Api/products/${product._id}`, product, config);\n    dispatch({\n      type: PRODUCT_UPDATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_UPDATE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const createReviewProduct = (productId, review) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_CREATE_REVIEW_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/Api/products/${productId}/reviews`, review, config);\n    dispatch({\n      type: PRODUCT_CREATE_REVIEW_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_CREATE_REVIEW_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/Abhishek/Desktop/E-Commerce/frontend/src/Actions/productAction.js"],"names":["axios","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAIL","listProducts","keyword","pageNumber","dispatch","type","data","get","payload","console","log","error","response","listProductDetails","id","deleteProduct","productId","getState","userLogin","userInfo","config","headers","Authorization","token","delete","message","createProduct","post","updateProduct","product","put","_id","createReviewProduct","review"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_SUCCESS,\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n  PRODUCT_UPDATE_FAIL,\r\n  PRODUCT_CREATE_REVIEW_REQUEST,\r\n  PRODUCT_CREATE_REVIEW_SUCCESS,\r\n  PRODUCT_CREATE_REVIEW_FAIL,\r\n} from \"../Constants/productConstants\";\r\n\r\nexport const listProducts = (keyword='',pageNumber='') => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_LIST_REQUEST });\r\n    const { data } = await axios.get(`/Api/products?keyword=${keyword}`);\r\n    \r\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n    console.log(data)\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_LIST_FAIL, payload: error.response });\r\n  }\r\n};\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n    const { data } = await axios.get(`/Api/products/${id}`);\r\n   \r\n\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.response });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const deleteProduct= (productId)=>async (dispatch,getState)=>{\r\n  try{\r\n     dispatch({\r\n         type:PRODUCT_DELETE_REQUEST\r\n     })\r\n\r\n     const {userLogin:{userInfo}}=getState()\r\n     const config={\r\n         headers:{ \r\n             Authorization:`Bearer ${userInfo.token}`  \r\n         }, \r\n     }\r\n     \r\n     \r\n     await axios.delete(`/Api/products/${productId}`,config)\r\n    \r\n\r\n     dispatch({\r\n       type:PRODUCT_DELETE_SUCCESS,\r\n   })\r\n\r\n  \r\n  }\r\n  catch(error){\r\n     dispatch({\r\n         type:PRODUCT_DELETE_FAIL,\r\n         payload:error.response &&error.response.data.message?error.response.data.message:error.message,\r\n     })\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport const createProduct= ()=>async (dispatch,getState)=>{\r\n  try{\r\n     dispatch({\r\n         type:PRODUCT_CREATE_REQUEST\r\n     })\r\n\r\n     const {userLogin:{userInfo}}=getState()\r\n     const config={\r\n         headers:{ \r\n             Authorization:`Bearer ${userInfo.token}`  \r\n         }, \r\n     }\r\n     \r\n     \r\n     const {data}=await axios.post(`/Api/products`,{},config)\r\n    \r\n\r\n     dispatch({\r\n       type:PRODUCT_CREATE_SUCCESS,\r\n       payload:data\r\n   })\r\n\r\n  \r\n  }\r\n  catch(error){\r\n     dispatch({\r\n         type:PRODUCT_CREATE_FAIL,\r\n         payload:error.response &&error.response.data.message?error.response.data.message:error.message,\r\n     })\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport const updateProduct= (product)=>async (dispatch,getState)=>{\r\n  try{\r\n     dispatch({\r\n         type:PRODUCT_UPDATE_REQUEST\r\n     })\r\n\r\n     const {userLogin:{userInfo}}=getState()\r\n     const config={\r\n         headers:{ \r\n             Authorization:`Bearer ${userInfo.token}`  \r\n         }, \r\n     }\r\n     \r\n     \r\n     const {data}=await axios.put(`/Api/products/${product._id}`,product,config)\r\n    \r\n\r\n     dispatch({\r\n       type:PRODUCT_UPDATE_SUCCESS,\r\n       payload:data\r\n   })\r\n\r\n  \r\n  }\r\n  catch(error){\r\n     dispatch({\r\n         type:PRODUCT_UPDATE_FAIL,\r\n         payload:error.response &&error.response.data.message?error.response.data.message:error.message,\r\n     })\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const createReviewProduct= (productId,review)=>async (dispatch,getState)=>{\r\n  try{\r\n     dispatch({\r\n         type:PRODUCT_CREATE_REVIEW_REQUEST\r\n     })\r\n\r\n     const {userLogin:{userInfo}}=getState()\r\n     const config={\r\n         headers:{ \r\n          'Content-type':'application/json',    \r\n             Authorization:`Bearer ${userInfo.token}`  \r\n         }, \r\n     }\r\n     \r\n     \r\n     const {data}=await axios.post(`/Api/products/${productId}/reviews`,review,config)\r\n    \r\n\r\n     dispatch({\r\n       type:PRODUCT_CREATE_REVIEW_SUCCESS,\r\n       payload:data\r\n   })\r\n\r\n  \r\n  }\r\n  catch(error){\r\n     dispatch({\r\n         type:PRODUCT_CREATE_REVIEW_FAIL,\r\n         payload:error.response &&error.response.data.message?error.response.data.message:error.message,\r\n     })\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}